# Checklist v1

| # | Type | Suspicious Point | Research Direction |
|---|------|------------------|--------------------|
| 1 | tech | SQLite 图表实现 KG 的可行性：文档提出 Lite 模式用 SQLite edges/nodes 表实现"最小可用"知识图谱,但未说明如何处理复杂关系查询、多跳邻居检索、图可视化等 Neo4j 原生支持的能力 | 调研 SQLite 实现图数据库的开源方案(如 sqlite-graph)、性能瓶颈、与 Neo4j 的功能差距;验证"最小可用"的边界 |
| 2 | architecture | 上下文拼装的 token 预算分配策略：文档建议 Lorebook 占总上下文 10%~20%,但未给出其他层(系统约束/长期记忆/结构化事实/短期上下文)的具体预算比例,也未说明如何动态调整 | 研究现有长文本生成系统(如 NovelAI/Sudowrite)的上下文分配策略;验证固定比例 vs 动态调整的优劣 |
| 3 | feasibility | 字数控制"强约束(Streaming Gate)"的工程复杂度：文档提到流式输出时分段计数、达到阈值中断并回喂续写,但未说明如何处理中断点的语义完整性(避免句子/段落截断)、状态恢复、多轮续写的连贯性 | 调研流式生成中断恢复的工程实践(OpenAI/Anthropic API 的 stop 机制);验证中文分词边界检测的可行性 |
| 4 | tech | Neo4j 证据字段(evidence)的存储与查询性能：文档要求每个图谱事实都附带 evidence(chapter_id + quote),但 Neo4j 节点/关系属性存储长文本(quote 可能数百字)会影响查询性能,且未说明如何高效检索"某段落被哪些事实引用" | 研究 Neo4j 处理长文本属性的最佳实践;验证是否需要独立的 evidence 表或向量索引 |
| 5 | architecture | Lorebook 触发注入的预算截断策略：文档提到按 priority 和相关度排序截断,但未说明相关度如何计算(关键词匹配 vs 语义相似度)、priority 如何设定(手动 vs 自动)、截断后如何保证关键信息不丢失 | 调研 SillyTavern/NovelAI 的 Lorebook 预算与激活逻辑;验证语义相似度计算的成本与收益 |
| 6 | feasibility | 一致性校验的自动化程度：文档列出 6 类校验项(设定冲突/时间线冲突/角色状态冲突等),但未说明如何自动检测(规则引擎 vs LLM 推理)、误报率如何控制、人工审阅成本 | 研究现有一致性检测工具(如 Grammarly 的逻辑检查);验证 LLM 作为校验 agent 的准确率与成本 |
| 7 | tech | 工作流 DSL 的解析与执行引擎：文档建议先用 JSON/YAML 编排、后续演进到 Python 风格 DSL,但未说明解析器如何实现、如何保证安全性(防止代码注入)、如何支持节点级进度上报与中断恢复 | 调研工作流引擎开源实现(Airflow/Prefect/Temporal);验证代码式 DSL 的安全沙箱方案 |
| 8 | data | 向量检索的必要性与成本：文档将向量库标记为"可选",用于召回"相似场景/伏笔回指",但未量化其对一致性提升的贡献、embedding 成本、检索延迟,也未说明与 KG/Lorebook 的去重策略 | 研究向量检索在长文本创作中的实际效果(是否有公开 benchmark);验证 Qdrant/Chroma 的部署成本与查询性能 |
| 9 | architecture | KG 抽取的审阅流程与用户负担：文档要求"系统先产出 kg_proposals → UI 展示 diff → 用户确认",但每章可能抽取数十个事实,用户逐条审阅成本高,且未说明如何处理"用户跳过审阅直接写下一章"的场景 | 研究人机协作的审阅 UI 设计(批量确认/置信度过滤);验证"自动入库 + 事后修正"vs"先审阅后入库"的权衡 |
| 10 | feasibility | MVP 4~6 周时间表的可行性：文档列出 MVP 包含场景卡编辑器、Bible、Lorebook、KG 抽取审阅、章节摘要、导出等 7 大模块,但未给出团队规模、技术栈熟悉度假设,也未说明是否包含前端 UI 开发 | 调研类似复杂度项目的实际开发周期(参考 NovelForge/Aventuras 的开发历史);验证单人 vs 小团队的可行性 |
| 11 | tech | FastAPI 流式输出(SSE/WebSocket)与结构化校验的兼容性：文档要求 AI 生成按 Schema 校验,但流式输出是逐 token 返回,如何在流式过程中做结构校验(JSON 不完整)?是否需要"先完整生成再校验再流式返回"? | 研究 FastAPI SSE 与 JSON Schema 校验的工程实践;验证流式 JSON 解析库(如 simdjson)的可用性 |
| 12 | product | "百万字长篇"的实际用户需求验证：文档多次强调"百万字级长篇创作潜力",但未提供目标用户画像、市场调研数据、现有工具痛点验证,也未说明百万字创作的典型周期与迭代模式 | 调研网文作者/长篇小说创作者的实际工作流;验证"AI 辅助百万字创作"是否为真实需求还是伪需求 |
